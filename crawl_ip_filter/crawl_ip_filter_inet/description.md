# 爬虫IP过滤

### 描述
给定一个url形式如：http://172.18.182.18/search?k1=v1&k2=v2 ……  
URL中会存在许多对GET传参形式的k-v值，其中可能会有一项ip=172.18.23.225。  
希望设计一个类，可以通过ip的值来过滤爬虫。  

给定：  

+ url  
+ 一个爬虫ip文件，假设每行一个ip。

设计一个类，带有load接口和procee接口。load用于加载爬虫ip文件，传入参数为文件名。process用于处理url及筛选，传入参数为一个url。  
即：  

+ void load(char* filename)  
+ void process(char* url)

要求时间复杂度为O(1)

其中爬虫ip文件内的ip形式多样，可能的形式如下：

+ 172.255.244.22  
+ 172.123.128.003   （前导0的情况）  
+ 172.18.242.*      （*作通配符）   
+ 172.18.182.252/22 （/形式子网掩码，不排除/左右会有空格）


### 思路
1. 用空间换时间。加载ip词典时初始化，每个ip 对应一个数，最简单的hash为hash("A.B.C.D") = (A+1) * (B+1) * (C+1) * (D+1)，大约耗空间为 4.295 * 10^9.  **缺点：** 耗空间太多，对ipv6完全不使用。
2. 转化为二进制建字典树. (Better)
